<launch>
    <group ns="heron01">

        <param name="frontDriver_port" type="string" value="/dev/roboteq_front" />
		<param name="backDriver_port" type="string" value="/dev/roboteq_back" />	

        <node name="xbox_controler" pkg="joy" type="joy_node" respawn="true" >
            <param name="dev" type="string" value="/dev/input/js0" />
            <param name="autorepeat_rate" value="2" />
        </node>

        <node name="controller" pkg="heron" type="controller.py"  /> 

        <node name="drive" pkg="heron" type="drive" output="screen" respawn="true" />
        
        <node name="odom" pkg="heron" type="odom" output="screen" respawn="true" />


        <node name="lpms_imu" pkg="lpms_imu" type="lpms_imu_node" output="screen" respawn="true" />

        <node pkg="robot_pose_ekf" type="robot_pose_ekf" name="robot_pose_ekf">
            <param name="output_frame" value="odom"/>
            <param name="freq" value="30.0"/>
            <param name="sensor_timeout" value="1.0"/>
            <param name="odom_used" value="true"/>
            <param name="imu_used" value="true"/>
            <param name="vo_used" value="false"/>
            <param name="debug" value="false"/>
            <param name="self_diagnose" value="false"/>
        </node>


        <include file="$(find rplidar_ros)/launch/rplidar_a3.launch"/>

        <node pkg="laser_filters" type="scan_to_scan_filter_chain" output="screen" name="laser_filter">
            <rosparam command="load" file="config_laser_filter/range_filter.yaml" />
        </node>

        <node name="tf_broadcaster" pkg="heron" type="tf_broadcaster" respawn="true" />

    </group>

</launch>
